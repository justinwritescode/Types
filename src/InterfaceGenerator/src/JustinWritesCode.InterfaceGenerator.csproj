<!--
 * InterfaceGenerator.csproj
 * 
 *   Created: 2022-11-11-03:54:47
 *   Modified: 2022-11-11-03:57:51
 * 
 *   Author: Justin Chase <justin@justinwritescode.com>
 *   
 *   Copyright Â© 2022 Justin Chase, All Rights Reserved
 *      License: MIT (https://opensource.org/licenses/MIT)
-->

<Project Sdk="Microsoft.NET.Sdk">

    <PropertyGroup>
        <TargetFramework>netstandard2.0</TargetFramework>
        <ProjectGuid>{6d73afe7-686a-4f44-9776-18578abaee92}</ProjectGuid>
        <LangVersion>preview</LangVersion>
        <Nullable>enable</Nullable>
        <Title>InterfaceGenerator</Title>
        <PackageId>JustinWritesCode.InterfaceGenerator</PackageId>
        <Description>This project uses Source Generation to generate an interface and a Proxy class for classes. This makes it possible to wrap external classes which do not have an interface, in a Proxy class which makes it easier to Mock and use DI.</Description>
        <MinVerTagPrefix>igen-v</MinVerTagPrefix>
        <EnableGlobalCodeGenerators>false</EnableGlobalCodeGenerators>
        <DefineConstants>$(DefineConstants);SCRIBAN_SIGNED;SCRIBAN_PUBLIC</DefineConstants>
        <OutputPath>analyzers/dotnet/cs</OutputPath>
    </PropertyGroup>

    <ItemGroup>
        <PackageReference Include="Microsoft.CodeAnalysis.Analyzers" PrivateAssets="all" IncludeAssets="runtime; build; native; contentfiles; analyzers; buildtransitive" />
        <PackageReference Include="Microsoft.CodeAnalysis.CSharp.Workspaces" />
        <PackageReference Include="Microsoft.CodeAnalysis.CSharp" VersionOverride="4.4.0" />
        <PackageReference Include="Microsoft.CodeAnalysis.Common" />
        <PackageReference Include="System.Text.Json.Usings" />
        <PackageReference Include="System.Text.RegularExpressions.Usings" />
        <PackageReference Include="JustinWritesCode.CodeGeneration.Constants-Scriban.Bundled" IncludeAssets="ContentFiles;Build" ExcludeAssets="Lib;Runtime;Source;Native;Analyzers" PrivateAssets="All" />
        <PackageReference Include="Microsoft.CSharp" VersionOverride="4.5.0" PrivateAssets="All" />
    </ItemGroup>

    <ItemGroup>
        <Using Include="JustinWritesCode.InterfaceGenerator.Constants" Static="true" />
        <Using Include="System.Diagnostics" />
    </ItemGroup>

    <ItemGroup>
        <PackageTag Include="interface" />
        <PackageTag Include="SourceGenerator" />
        <PackageTag Include="Analyzer" />
        <PackageTag Include="Generation" />
        <PackageTag Include="Code-Generation" />
        <PackageTag Include="Source-Generation" />
    </ItemGroup>

    <ItemGroup>
        <PackageReference Include="Microsoft.CodeAnalysis.Analyzers" />
        <PackageReference Include="Microsoft.CodeAnalysis.CSharp" PrivateAssets="all" />
    </ItemGroup>

    <ItemGroup>
        <None Remove="$(OutputPath)$(AssemblyName).dll" />
    </ItemGroup>

    <ItemGroup>
        <Content Include="$(OutputPath)$(AssemblyName).dll" Pack="true" PackagePath="analyzers/dotnet/cs/%(Filename)%(Extension)" Visible="false" />
    </ItemGroup>

    <ItemGroup>
        <Compile Remove="./Resources/**/*.cs" />
        <EmbeddedResource Include="./Resources/**/*/cs" />
    </ItemGroup>

    <ItemGroup>
        <PackageFile Include="./README.md" PackagePath="" />
    </ItemGroup>

</Project>
